{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, createTextVNode as _createTextVNode } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.prefix = $event),\n    placeholder: \"Filter prefix\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.prefix]])]), _withDirectives(_createElementVNode(\"select\", {\n    size: \"5\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.selected = $event)\n  }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.filteredNames, name => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: name\n    }, _toDisplayString(name), 1 /* TEXT */);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $setup.selected]]), _createElementVNode(\"label\", null, [_createTextVNode(\"Name: \"), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.text = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.text]])]), _createElementVNode(\"label\", null, [_createTextVNode(\"Number: \"), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.number = $event),\n    type: \"number\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.number]])]), _createElementVNode(\"label\", null, [_createTextVNode(\"Name: \"), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.first = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.first]])]), _createElementVNode(\"label\", null, [_createTextVNode(\"Surname: \"), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.last = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.last]])]), _createElementVNode(\"div\", {\n    class: \"buttons\"\n  }, [_createElementVNode(\"button\", {\n    onClick: $setup.create\n  }, \"Create\"), _createElementVNode(\"button\", {\n    onClick: $setup.update\n  }, \"Update\"), _createElementVNode(\"button\", {\n    onClick: $setup.del\n  }, \"Delete\")])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_createElementVNode","_cache","$event","$setup","prefix","placeholder","size","selected","_renderList","filteredNames","name","key","_toDisplayString","_createTextVNode","_ctx","text","number","type","first","last","class","onClick","create","update","del"],"sources":["D:\\framework-project\\src\\components\\CrudPage.vue"],"sourcesContent":["<!--\r\nhttps://eugenkiss.github.io/7guis/tasks/#crud\r\n-->\r\n\r\n<script setup>\r\nimport { ref, reactive, computed, watch } from 'vue'\r\n\r\nconst names = reactive(['Emil, Hans', 'Mustermann, Max', 'Tisch, Roman'])\r\nconst selected = ref('')\r\nconst prefix = ref('')\r\nconst first = ref('')\r\nconst last = ref('')\r\n\r\nconst filteredNames = computed(() =>\r\n  names.filter((n) =>\r\n    n.toLowerCase().startsWith(prefix.value.toLowerCase())\r\n  )\r\n)\r\n\r\nwatch(selected, (name) => {\r\n  [last.value, first.value] = name.split(', ')\r\n})\r\n\r\nfunction create() {\r\n  if (hasValidInput()) {\r\n    const fullName = `${last.value}, ${first.value}`\r\n    if (!names.includes(fullName)) {\r\n      names.push(fullName)\r\n      first.value = last.value = ''\r\n    }\r\n  }\r\n}\r\n\r\nfunction update() {\r\n  if (hasValidInput() && selected.value) {\r\n    const i = names.indexOf(selected.value)\r\n    names[i] = selected.value = `${last.value}, ${first.value}`\r\n  }\r\n}\r\n\r\nfunction del() {\r\n  if (selected.value) {\r\n    const i = names.indexOf(selected.value)\r\n    names.splice(i, 1)\r\n    selected.value = first.value = last.value = ''\r\n  }\r\n}\r\n\r\nfunction hasValidInput() {\r\n  return first.value.trim() && last.value.trim()\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div><input v-model=\"prefix\" placeholder=\"Filter prefix\"></div>\r\n\r\n  <select size=\"5\" v-model=\"selected\">\r\n    <option v-for=\"name in filteredNames\" :key=\"name\">{{ name }}</option>\r\n  </select>\r\n  <label>Name: <input v-model=\"text\"></label>\r\n  <label>Number: <input v-model=\"number\" type=\"number\"></label>\r\n  <label>Name: <input v-model=\"first\"></label>\r\n  <label>Surname: <input v-model=\"last\"></label>\r\n\r\n  <div class=\"buttons\">\r\n    <button @click=\"create\">Create</button>\r\n    <button @click=\"update\">Update</button>\r\n    <button @click=\"del\">Delete</button>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n* {\r\n  font-size: inherit;\r\n}\r\n\r\ninput {\r\n  display: block;\r\n  margin-bottom: 10px;\r\n}\r\n\r\nselect {\r\n  float: left;\r\n  margin: 0 1em 1em 0;\r\n  width: 14em;\r\n}\r\n\r\n.buttons {\r\n  clear: both;\r\n}\r\n\r\nbutton + button {\r\n  margin-left: 5px;\r\n}\r\n</style>\r\n\r\n"],"mappings":";;uBAAAA,mBAAA,CAAAC,SAAA,SAsDEC,mBAAA,CAA+D,c,gBAA1DA,mBAAA,CAAoD;IAtD3D,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAsDuBC,MAAA,CAAAC,MAAM,GAAAF,MAAA;IAAEG,WAAW,EAAC;iDAApBF,MAAA,CAAAC,MAAM,E,qBAE3BJ,mBAAA,CAES;IAFDM,IAAI,EAAC,GAAG;IAxDlB,uBAAAL,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAwD4BC,MAAA,CAAAI,QAAQ,GAAAL,MAAA;yBAChCJ,mBAAA,CAAqEC,SAAA,QAzDzES,WAAA,CAyD2BL,MAAA,CAAAM,aAAa,EAArBC,IAAI;yBAAnBZ,mBAAA,CAAqE;MAA9Ba,GAAG,EAAED;IAAI,GAAAE,gBAAA,CAAKF,IAAI;2EADjCP,MAAA,CAAAI,QAAQ,E,GAGlCP,mBAAA,CAA2C,gBA3D7Ca,gBAAA,CA2DS,QAAM,G,gBAAAb,mBAAA,CAAsB;IA3DrC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA2D+BY,IAAA,CAAAC,IAAI,GAAAb,MAAA;iDAAJY,IAAA,CAAAC,IAAI,E,KACjCf,mBAAA,CAA6D,gBA5D/Da,gBAAA,CA4DS,UAAQ,G,gBAAAb,mBAAA,CAAsC;IA5DvD,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA4DiCY,IAAA,CAAAE,MAAM,GAAAd,MAAA;IAAEe,IAAI,EAAC;iDAAbH,IAAA,CAAAE,MAAM,E,KACrChB,mBAAA,CAA4C,gBA7D9Ca,gBAAA,CA6DS,QAAM,G,gBAAAb,mBAAA,CAAuB;IA7DtC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA6D+BC,MAAA,CAAAe,KAAK,GAAAhB,MAAA;iDAALC,MAAA,CAAAe,KAAK,E,KAClClB,mBAAA,CAA8C,gBA9DhDa,gBAAA,CA8DS,WAAS,G,gBAAAb,mBAAA,CAAsB;IA9DxC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA8DkCC,MAAA,CAAAgB,IAAI,GAAAjB,MAAA;iDAAJC,MAAA,CAAAgB,IAAI,E,KAEpCnB,mBAAA,CAIM;IAJDoB,KAAK,EAAC;EAAS,IAClBpB,mBAAA,CAAuC;IAA9BqB,OAAK,EAAElB,MAAA,CAAAmB;EAAM,GAAE,QAAM,GAC9BtB,mBAAA,CAAuC;IAA9BqB,OAAK,EAAElB,MAAA,CAAAoB;EAAM,GAAE,QAAM,GAC9BvB,mBAAA,CAAoC;IAA3BqB,OAAK,EAAElB,MAAA,CAAAqB;EAAG,GAAE,QAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}