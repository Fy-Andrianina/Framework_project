{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// var data =[\n//     {\n//     \"name\":\"jean\", // <input type=\"text\" name=\"name\" value=\"jean\" />\n//     \"age\":4,// <input type=\"number\" name=\"age\" value=\"4\" />\n//     \"information\":{\n//         \"name\":\"\",\n//         \"departement\":\"\"\n//         }\n//     },\n//     {\n//         \"name\":\"\",\n//         \"age\":4,\n//         \"information\":{\n//             \"name\":\"\",\n//             \"departement\":\"\"\n//             }\n//         },\n//         {\n//             \"name\":\"\",\n//             \"age\":4,\n//             \"information\":{\n//                 \"name\":\"\",\n//                 \"departement\":\"\"\n//                 }\n//             },\n// ];\nvar data = {\n  \"name\": \"jean\",\n  // <input type=\"text\" name=\"name\" value=\"jean\" />\n  \"age\": 4 // <input type=\"number\" name=\"age\" value=\"4\" />\n};\n// construire le type correspondant au donnees\nfunction contructComponent() {\n  var componentCreate = {\n    componentSubDivision: []\n  };\n  for (let key in data) {\n    // Vérifier le type de la valeur\n    if (typeof data[key] === 'string') {\n      componentCreate.componentSubDivision.push(createInput(key, data[key], 'text'));\n      // console.log(createInput(key, data[key], 'text'));\n    }\n    if (typeof data[key] === 'number') {\n      componentCreate.componentSubDivision.push(createInput(key, data[key], 'number'));\n    }\n  }\n}\nasync function createInput(name, value, type) {\n  try {\n    var input = '';\n    readTextFile('inputTextTemplate').then(content => {\n      console.log(content);\n      input = content;\n      //  console.log(input);\n    }).catch(error => {\n      console.error('Erreur lors de la lecture du fichier :', error.message);\n    });\n    console.log(input);\n    input = input.replace(\"#name#\", name);\n    input = input.replace(\"#value#\", value);\n    input = input.replace(\"#type#\", type);\n    console.log(input);\n    return input;\n  } catch (error) {\n    console.log(error);\n  }\n}\nfunction readTextFile(name) {\n  const filePath = './template/' + name + '.txt'; // Chemin relatif par rapport à votre fichier JS\n  return new Promise((resolve, reject) => {\n    fetch(filePath).then(response => {\n      if (!response.ok) {\n        throw new Error(`Erreur HTTP : ${response.status}`);\n      }\n      return response.text();\n    }).then(fileContent => {\n      resolve(fileContent);\n    }).catch(error => {\n      reject(error);\n    });\n  });\n}\nexport default contructComponent;","map":{"version":3,"names":["data","contructComponent","componentCreate","componentSubDivision","key","push","createInput","name","value","type","input","readTextFile","then","content","console","log","catch","error","message","replace","filePath","Promise","resolve","reject","fetch","response","ok","Error","status","text","fileContent"],"sources":["D:/framework-project/src/subdivision.js"],"sourcesContent":["\r\n\r\n// var data =[\r\n//     {\r\n//     \"name\":\"jean\", // <input type=\"text\" name=\"name\" value=\"jean\" />\r\n//     \"age\":4,// <input type=\"number\" name=\"age\" value=\"4\" />\r\n//     \"information\":{\r\n//         \"name\":\"\",\r\n//         \"departement\":\"\"\r\n//         }\r\n//     },\r\n//     {\r\n//         \"name\":\"\",\r\n//         \"age\":4,\r\n//         \"information\":{\r\n//             \"name\":\"\",\r\n//             \"departement\":\"\"\r\n//             }\r\n//         },\r\n//         {\r\n//             \"name\":\"\",\r\n//             \"age\":4,\r\n//             \"information\":{\r\n//                 \"name\":\"\",\r\n//                 \"departement\":\"\"\r\n//                 }\r\n//             },\r\n// ];\r\nvar data={\r\n    \"name\":\"jean\", // <input type=\"text\" name=\"name\" value=\"jean\" />\r\n    \"age\":4,// <input type=\"number\" name=\"age\" value=\"4\" />\r\n}\r\n// construire le type correspondant au donnees\r\nfunction contructComponent(){\r\n    var componentCreate = {\r\n        componentSubDivision:[]\r\n    };\r\n    for (let key in data) {\r\n        // Vérifier le type de la valeur\r\n        if (typeof data[key] === 'string') {\r\n            componentCreate.componentSubDivision.push(createInput(key, data[key], 'text'));\r\n            // console.log(createInput(key, data[key], 'text'));\r\n        }\r\n        if (typeof data[key] === 'number') {\r\n            componentCreate.componentSubDivision.push(createInput(key, data[key], 'number'));\r\n        }\r\n      }\r\n\r\n}\r\nasync function createInput(name, value,type){\r\n    try {\r\n      var input = '';\r\n        readTextFile('inputTextTemplate')\r\n  .then(content => {\r\n    console.log(content);\r\n     input=content;\r\n    //  console.log(input);\r\n  })\r\n  .catch(error => {\r\n    console.error('Erreur lors de la lecture du fichier :', error.message);\r\n  });\r\n        console.log(input);\r\n        input = input.replace(\"#name#\",name);\r\n       input =  input.replace(\"#value#\",value);\r\n       input = input.replace(\"#type#\", type);\r\n       console.log(input);\r\n       return input;\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n   \r\n}\r\nfunction readTextFile(name) {\r\n    \r\n    const filePath = './template/'+name+'.txt'; // Chemin relatif par rapport à votre fichier JS\r\n    return new Promise((resolve, reject) => {\r\n        fetch(filePath)\r\n          .then(response => {\r\n            if (!response.ok) {\r\n              throw new Error(`Erreur HTTP : ${response.status}`);\r\n            }\r\n            return response.text();\r\n          })\r\n          .then(fileContent => {\r\n            resolve(fileContent);\r\n          })\r\n          .catch(error => {\r\n            reject(error);\r\n          });\r\n      });\r\n  }\r\n  export default contructComponent;"],"mappings":";AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,IAAI,GAAC;EACL,MAAM,EAAC,MAAM;EAAE;EACf,KAAK,EAAC,CAAC,CAAC;AACZ,CAAC;AACD;AACA,SAASC,iBAAiBA,CAAA,EAAE;EACxB,IAAIC,eAAe,GAAG;IAClBC,oBAAoB,EAAC;EACzB,CAAC;EACD,KAAK,IAAIC,GAAG,IAAIJ,IAAI,EAAE;IAClB;IACA,IAAI,OAAOA,IAAI,CAACI,GAAG,CAAC,KAAK,QAAQ,EAAE;MAC/BF,eAAe,CAACC,oBAAoB,CAACE,IAAI,CAACC,WAAW,CAACF,GAAG,EAAEJ,IAAI,CAACI,GAAG,CAAC,EAAE,MAAM,CAAC,CAAC;MAC9E;IACJ;IACA,IAAI,OAAOJ,IAAI,CAACI,GAAG,CAAC,KAAK,QAAQ,EAAE;MAC/BF,eAAe,CAACC,oBAAoB,CAACE,IAAI,CAACC,WAAW,CAACF,GAAG,EAAEJ,IAAI,CAACI,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAC;IACpF;EACF;AAEN;AACA,eAAeE,WAAWA,CAACC,IAAI,EAAEC,KAAK,EAACC,IAAI,EAAC;EACxC,IAAI;IACF,IAAIC,KAAK,GAAG,EAAE;IACZC,YAAY,CAAC,mBAAmB,CAAC,CACtCC,IAAI,CAACC,OAAO,IAAI;MACfC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;MACnBH,KAAK,GAACG,OAAO;MACd;IACF,CAAC,CAAC,CACDG,KAAK,CAACC,KAAK,IAAI;MACdH,OAAO,CAACG,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAACC,OAAO,CAAC;IACxE,CAAC,CAAC;IACIJ,OAAO,CAACC,GAAG,CAACL,KAAK,CAAC;IAClBA,KAAK,GAAGA,KAAK,CAACS,OAAO,CAAC,QAAQ,EAACZ,IAAI,CAAC;IACrCG,KAAK,GAAIA,KAAK,CAACS,OAAO,CAAC,SAAS,EAACX,KAAK,CAAC;IACvCE,KAAK,GAAGA,KAAK,CAACS,OAAO,CAAC,QAAQ,EAAEV,IAAI,CAAC;IACrCK,OAAO,CAACC,GAAG,CAACL,KAAK,CAAC;IAClB,OAAOA,KAAK;EACf,CAAC,CAAC,OAAOO,KAAK,EAAE;IACZH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;EACtB;AAEJ;AACA,SAASN,YAAYA,CAACJ,IAAI,EAAE;EAExB,MAAMa,QAAQ,GAAG,aAAa,GAACb,IAAI,GAAC,MAAM,CAAC,CAAC;EAC5C,OAAO,IAAIc,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACpCC,KAAK,CAACJ,QAAQ,CAAC,CACZR,IAAI,CAACa,QAAQ,IAAI;MAChB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAE,iBAAgBF,QAAQ,CAACG,MAAO,EAAC,CAAC;MACrD;MACA,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,CACDjB,IAAI,CAACkB,WAAW,IAAI;MACnBR,OAAO,CAACQ,WAAW,CAAC;IACtB,CAAC,CAAC,CACDd,KAAK,CAACC,KAAK,IAAI;MACdM,MAAM,CAACN,KAAK,CAAC;IACf,CAAC,CAAC;EACN,CAAC,CAAC;AACN;AACA,eAAehB,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}